#include <behaviors.dtsi>
#include <dt-bindings/zmk/keys.h>
#include "../zmk-nodefree-config/helper.h"

/* Canadian Multilingual Standard Mappings */

ZMK_BEHAVIOR(A_G,   macro, bindings = <&kp BACKSLASH>;)     // À
ZMK_BEHAVIOR(E_C,   macro, bindings = <&kp SLASH>;)         // É
ZMK_BEHAVIOR(E_G,   macro, bindings = <&kp APOS>;)          // È
ZMK_BEHAVIOR(CEDIL, macro, bindings = <&kp LT>;)            // Ç
ZMK_BEHAVIOR(CIRC,  macro, bindings = <&kp LBKT>;)          // ^)
ZMK_BEHAVIOR(GRA,   macro, bindings = // `
    <&macro_press &kp RALT>,
    <&macro_tap &kp LBKT>,
    <&macro_release &kp RALT>;)
ZMK_BEHAVIOR(AIGU,  macro, bindings =  // ´
    <&macro_press &kp RALT>,
    <&macro_tap &kp SLASH>,
    <&macro_release &kp RALT>;)
ZMK_BEHAVIOR(TREMA, macro, bindings =
    <&macro_press &kp LSHFT>,
    <&macro_tap &kp LBKT>,
    <&macro_release &kp LSHFT>;)
ZMK_BEHAVIOR(DEG,   macro, bindings = // °
    <&macro_press &kp RALT>,
    <&macro_tap &kp SEMI>,
    <&macro_release &kp RALT>;)
ZMK_BEHAVIOR(LBRAC,  macro, bindings = // {
    <&macro_press &kp RALT>,
    <&macro_tap &kp N7>,
    <&macro_release &kp RALT>;)
ZMK_BEHAVIOR(RBRAC,  macro, bindings = // 8
    <&macro_press &kp RALT>,
    <&macro_tap &kp N8>,
    <&macro_release &kp RALT>;)
ZMK_BEHAVIOR(LBKET,  macro, bindings = // [
    <&macro_press &kp RALT>,
    <&macro_tap &kp N9>,
    <&macro_release &kp RALT>;)
ZMK_BEHAVIOR(RBKET,  macro, bindings = // 0
    <&macro_press &kp RALT>,
    <&macro_tap &kp N0>,
    <&macro_release &kp RALT>;)
ZMK_BEHAVIOR(SLSHs,  macro, bindings = // °
    <&macro_press &kp RALT>,
    <&macro_tap &kp GRAVE>,
    <&macro_release &kp RALT>;)
ZMK_BEHAVIOR(QUESTs,  macro, bindings = // °
    <&macro_press &kp LSHFT>,
    <&macro_tap &kp N6>,
    <&macro_release &kp LSHFT>;)
ZMK_BEHAVIOR(PIPs,  macro, bindings = // °
    <&macro_press &kp RALT>,
    <&macro_tap &kp GRAVE>,
    <&macro_release &kp RALT>;)
ZMK_BEHAVIOR(TILDs,  macro, bindings = // °
    <&macro_press &kp LSHFT>,
    <&macro_tap &kp GRAVE>,
    <&macro_release &kp LSHFT>;)
ZMK_BEHAVIOR(LETHANs,  macro, bindings = // °
    <&macro_press &kp RALT>,
    <&macro_tap &kp COMMA>,
    <&macro_release &kp RALT>;)
ZMK_BEHAVIOR(GRTHANs,  macro, bindings = // °
    <&macro_press &kp RALT>,
    <&macro_tap &kp DOT>,
    <&macro_release &kp RALT>;)

